{% extends "omeroadmin/base.html" %}
{% load i18n %}
{% load markup %}
{% load custom_tags %}

{% block css %}
    <link rel="stylesheet" href="{% url wastatic "css/picklist.css" %}" type="text/css" media="screen"/>
{% endblock %}

{% block title %}Edit in group{% endblock %}

{% block jscript %}

    <script type="text/javascript" src="{% url wastatic "javascript/jquery_1.2.6.js" %}"></script>
    <script type="text/javascript" src="{% url wastatic "javascript/jquery.multiselects.js" %}"></script>
    <script type="text/javascript" src="{% url wastatic "javascript/jquery.multiselects.pack.js" %}"></script>

    <script type="text/javascript">
    jQuery(function($){
        // (OPTIONAL) adjust the width of the select box to the bigger of the two
        $("select[name='members']").selectAdjustWidth("select[name='available']");

        $("select[name='members']").multiSelect("select[name='available']", {
            trigger: "input[name='remove']",
            triggerAll: "input[name='removeAll']"
            });

        $("select[name='available']").multiSelect("select[name='members']", {
            trigger: "input[name='add']",
            triggerAll: "input[name='addAll']"
            });

    });
    </script>

{% endblock %}

{% block content %}
<div>
<h2>{% trans "Edit members of" %} '{{ controller.group.name }}'</h2>

<p>* - {% trans "active group" %}.<br/>{% trans "To remove experimenter with * from this group first change the active group." %}</p>


<form action="{% url wamanagegroupid "update" controller.group.id %}" method="POST">
<table id="dogBreedsTable" border="0" cellspacing="0" cellpadding="0" class="formTable">
    <tbody>
    <tr>
        <th>{{ form.members.label_tag }}{% if form.members.field.required %}*{% endif %}</th>
        <th></th>
        <th>{{ form.available.label_tag }}{% if form.available.field.required %}*{% endif %}</th>
    </tr>
    <tr>
        <td class="pickListTd">
            <div class="pickListSelected">
                {{ form.members }}
            </div>
        </td>
        <td class="pickListButtons">
            <div class="pickListButtons">
                <input name="add" type="button" class="button addButton" value="&lt;" title="Choose available and add">
                <input name="remove" type="button" class="button removeButton" value="&gt;" title="Choose selected and remove">
                <input name="addAll" type="button" class="button addAllButton" value="&lt;&lt;" title="Add all">
                <input name="removeAll" type="button" class="button removeAllButton" value="&gt;&gt;" title="Remove all">
            </div>
        </td>
        <td>
            <div class="pickListAvailable">
                {{ form.available }}
            </div>
        </td>
    </tr>
    </tbody>
    <td>&nbsp;</td><td colspan="2" class="input"><br/><input type="submit" value="{% trans 'Save' %}" /></td>
</table>

</form>
<br/>
</div>
{% endblock %}