{% extends "webgateway/base/container3.html" %}
{% load i18n %}


{% comment %}
<!--
  Copyright (C) 2011 University of Dundee & Open Microscopy Environment.
  All rights reserved.

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as
  published by the Free Software Foundation, either version 3 of the
  License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
{% endcomment %}

{% comment %}
<!--
  This page controls the main 3-column layout of the webclient.
  Templates can extend this one to add content to the 3 columns.
  The initial template below this one is webclient/data/containers.html which has the data tree.
-->
{% endcomment %}


{% block title %}
    {% trans "Webclient" %}
{% endblock %}


{% block link %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static "webclient/css/layout.css" %}" type="text/css" media="screen"/>

{% endblock %}


{% block script %}
    {{ block.super }}
    <!-- required for the script_launch html below -->
    {% include "webclient/base/script_launch_head.html" %}

    <!-- The following are required by the right-hand panel, E.g. annotations/metadata_general.html -->
    <script type="text/javascript" src="{% static "3rdparty/jquery.quicksearch.js" %}"></script>
    <script type="text/javascript" src="{% static "3rdparty/jquery.tooltip/jquery.tooltip.pack.js" %}"></script>
    <script type="text/javascript" src="{% static "webclient/javascript/jquery.editinplace.js" %}"></script>
    <script type="text/javascript" src="{% static "webclient/javascript/jquery.form.js" %}"></script>
    
    <!-- preview viewer... -->
    <script type="text/javascript" src="{% static "webgateway/js/ome.viewport.js" %}"></script>
    <script type="text/javascript" src="{% static "webgateway/js/ome.viewportImage.js" %}"></script>
    <script type="text/javascript" src="{% static "webgateway/js/ome.gs_slider.js" %}"></script>
    <script type="text/javascript" src="{% static "webgateway/js/ome.gs_utils.js" %}"></script>
    <!-- ...including big images -->
    <script type="text/javascript" src="{% static "3rdparty/panojs/utils.js" %}"></script>
    <script type="text/javascript" src="{% static "3rdparty/panojs/PanoJS.js" %}"></script>
    <script type="text/javascript" src="{% static "3rdparty/panojs/controls.js" %}"></script>
    <script type="text/javascript" src="{% static "3rdparty/panojs/pyramid_Bisque.js" %}"></script>
    <script type="text/javascript" src="{% static "3rdparty/panojs/pyramid_imgcnv.js" %}"></script>
    <script type="text/javascript" src="{% static "3rdparty/panojs/pyramid_Zoomify.js" %}"></script>
    <script type="text/javascript" src="{% static "webgateway/js/ome.panojs.control_thumbnail.js" %}"></script>
    <script type="text/javascript" src="{% static "3rdparty/panojs/control_info.js" %}"></script>
    <script type="text/javascript" src="{% static "3rdparty/panojs/control_svg.js" %}"></script>
    
    
    
    <!-- set-up right panel tabs -->
    {% include "webclient/data/includes/right_plugin.general.js.html" %}

    <!-- include scripts for loading data into right-hand tabs -->
    <!-- these are configured in settings.py under "omero.web.ui.right_tabs" -->
    {% for rt in nav.right_plugins %}
        {% include rt.include %}
    {% endfor %}
    
    
    
{% endblock %}


{% block middle_header_right %}
    <!-- Include is simply the <li><a>Link</a></li> links for webclient -->
    <a href="{% url wamyaccount 'edit' %}" title="Edit Account"> {{ eContext.user.getFullName }}</a>
    <a href="{% url load_template 'help' %}">{% trans "Help" %}</a>
    {% include "webclient/base/logout.html" %}
{% endblock %}


{% block middle_header_left %}
    {% include "webclient/base/menu.html" %}
    {% include "webclient/base/basket_info.html" %}
    {% include "webclient/base/activities_info.html" %}
{% endblock %}


{% block thin_header_left %}
    <!-- left-hand side of toolbar (group chooser) -->
    {% include "webclient/base/group_user.html" %}
    {% include "webclient/base/script_launch.html" %}
    {% include "webclient/base/custom_toolbar_links.html" %}
{% endblock %}


{% block thin_header_right %}
    {% include "webclient/base/search_field.html" %}
{% endblock %}


{% block footer_content %}
    {% include "webclient/base/footer_links.html" %}
{% endblock %}



{% block right %}
<div>
    <div id="annotation_tabs" class="absolute_fill">
        <ul class="tabslist">
            <li><a href="#metadata_general">{% trans "General" %}</a></li>
            <!-- include right tabs, as configured in settings.py under "omero.web.ui.right_tabs" -->
            {% for rt in nav.right_plugins %}
                <li><a href="#{{ rt.plugin_id }}">{{ rt.label }}</a></li>
            {% endfor %}
        </ul>
        <div id="metadata_general"></div>
        <!-- include right tab bodies, as configured in settings.py under "omero.web.ui.right_tabs" -->
        {% for rt in nav.right_plugins %}
            <div id="{{ rt.plugin_id }}" class="tab_content" style="padding:10px"></div>
        {% endfor %}
    </div>
</div>
{% endblock %}