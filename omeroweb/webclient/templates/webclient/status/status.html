{% extends "webclient/base/base.html" %}
{% load i18n %}
{% load markup %}
{% load custom_tags %}

{% block link %}
    <link rel="stylesheet" href="{% url webstatic "css/table.css" %}" type="text/css" media="screen"/>
    
{% endblock %}

{% block jscript %}
    <script type="text/javascript" src="{% url webstatic "javascript/ui/ui.core.js" %}"></script>
    <script type="text/javascript" src="{% url webstatic "javascript/ui/ui.selectable.js" %}"></script>
    
    <script type="text/javascript" src="{% url webstatic "javascript/jquery.tablesorter.js" %}"></script>
    <script type="text/javascript" src="{% url webstatic "javascript/jquery.quicksearch.js" %}"></script>

{% endblock %}

{% block script %}

    <script type="text/javascript" src="{% url webstatic "javascript/actions.js" %}"></script>
    
    <script type="text/javascript">
        $(document).ready(function(){

            var h = $(window).height()-200;
            $("div#content_details").css('height', h+31);
            $("#right_panel").show();
            $("#swapMeta").html('<img tabindex="0" src="{% url webstatic "images/tree/spacer.gif" %}" class="collapsed-right" id="lhid_trayhandle_icon_right">');
            
        });    
    </script>

{% endblock %}

{% block center %}

<div id="content_details">
    <h1>Status</h1>
    {% if status.sizeOfJobs %}

        <table id="dataTable" class="tablesorter">
            <thead> 
                <tr> 
                    <th class="action">{% trans "Job" %}</th> 
                    <th class="desc">{% trans "Status" %}</th> 
                </tr> 
            </thead>
            <tbody>
                {% for c in status.jobs %}
                    <tr>
                        <td class="action">
                            {{ c }}      
                        </td>
                        <td class="roles">in progress <img src="{% url webstatic "images/spinner.gif" %}"/></td>                    
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        </div>

    {% else %}
        <p>{% trans "There are no jobs" %}</p>
    {% endif %}
</div>    
    
{% endblock %}

{% block right %}
    
    <div id="metadata_details">
        <h1>{% trans "Status of your jobs" %}</h1>
        <p>{% trans "This page shows the current status of your jobs." %}
            {% if not status.sizeOfJobs %}
                {% trans "Currently you have no awaiting jobs." %}
            {% else %}
                {% trans "Awaiting jobs are sting in the queue." %}
            {% endif %}
        </p>
    </div>
    
{% endblock %}
