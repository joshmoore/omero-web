{% extends "webgateway/base/base_header.html" %}
{% load i18n %}

{% comment %}
<!--
  Copyright (C) 2011 University of Dundee & Open Microscopy Environment.
  All rights reserved.

  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as
  published by the Free Software Foundation, either version 3 of the
  License, or (at your option) any later version.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
{% endcomment %}

{% comment %}
<!--
    This page displays a UI for Split View Figure
-->
{% endcomment %}

{% block title %}
    Create Thumbnail Figure
{% endblock %}



{% block script %}
    {{ block.super }}
    {% include "webgateway/base/includes/script_src_jquery.html" %}
    {% include "webgateway/base/includes/script_src_popup.html" %}
    {% include "webgateway/base/includes/jquery-ui.html" %}
    <link rel="stylesheet" href="{% static "3rdparty/jquery-ui-1.8.19/themes/base/jquery.ui.base.css" %}" type="text/css" />
    <script type="text/javascript" src="{% static "webclient/javascript/jquery.form.js" %}"></script>
    <script type="text/javascript" src="{% static "webclient/javascript/ome.split_view_figure.js" %}"></script>


    <style type="text/css">
    body {
        font-size: 70% !important;
    }
    .img_panel {
        <!--[if lte IE 8]>
            width: 100px;
        <![endif]-->
        max-width: 100px;
        max-height: 100px;
        
        border-width: 0px;
        margin: 5px;
        vertical-align:middle;
    }
    .toggle_channel {
        padding:4px; margin:2px; padding-left:6px; border-radius: 6px;
    }
    .toggle_channel input[type=text] {
        font-size:10px;
        border:solid white 1px;
        opacity:0.8;
    }
    #figure_table {
        margin-left:auto;
        margin-right:auto;
        margin-top: 10px;
        margin-bottom: 10px;
        padding: 5px;
        background: #fff;
        border: 1px solid white;
        border-radius: 5px 5px 5px 5px;
        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.2);
        overflow: hidden;
        padding: 30px 50px;
    }
    #img_size_slider {
        position: absolute;
        top: 12px;
        left: 100px;
    }
    #zRangeSlider, #img_size_slider {
        border: 1px solid #aaa;
        height: 6px;
        width: 150px;
    }
    .ui-slider-handle {
        border: 1px solid #aaa;
        background: #727C86;
        border-radius: 3px;
    }
    #middle_header {
        height: 35px;
    }
    #script_content {
        position: absolute;
        top:0px; left:0px; right:0px; bottom:35px;
        overflow:auto;
        padding:10px;
        background-color: #EFF1F4
    }
    div.footer {
        background: #ddd; 
        position:fixed; 
        bottom:0px; left:0px; right:0px;
        padding: 7px;
        border-top: 1px solid #aaa;
        font-size: 120%;
    }
    .zsection {
        margin-left:25px;
        padding:3px;
    }
    .rowLabel, .dragHandle {
        vertical-align: middle;
    }
    </style>

{% endblock %}


{% block middle_header_left %}
<!-- Empty block removes the header links here -->
{% endblock %}


{% block content %}


<div id="script_content">

<form id="script_form" method="post" action="{% url script_run scriptId %}">

    <div style="margin-left:auto; margin-right:auto; width:500px">

        <h1>Create Thumbnail Figure</h1>

        <hr/>

        <input type="text" name="IDs" value="{{ idString }}" style="display:none">

    </div>


    <div class="footer">
        <div style="float:right">
            <a href="#" onClick="self.close()">Cancel</a>
            <input id="submit" type="submit" value="Create Figure" />
        </div>
        <a href="#" onClick="return openPopup('{% url get_original_file scriptId %}');">View Script</a>

        <div id="img_size_slider" title="Zoom Preview Figure"></div>
    </div>

</form>


<!---------------------------- FIGURE PREVIEW ---------------------->

<table id="figure_table">
    <tr><td>
        <div style="padding:10px">
    <table>
    <tr>
        <td> FIGURE HERE </td>
    </tr>
    </table>
</div>
</td></tr>
</table>

</div>
{% endblock %}
