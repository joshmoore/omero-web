{% load i18n %}
{% load markup %}
{% load custom_tags %}
    
{% load i18n %}
{% load markup %}
{% load custom_tags %}

<ul>
    <li id="experimenter-0" rel="experimenter"><a href="#">{% if manager.experimenter %}{{ manager.experimenter.getFullName }}{% else %}{{ eContext.user.getFullName }}{% endif %}</a>
        {% if manager.t_size %}
        <ul>
            {% for t in manager.tags %}
            {% if t.ns %}
            <li id='tagset-{{ t.id }}' rel="tagset{% if not t.isOwned %}-locked{% endif %}" {% if t.countTagsInTagset %}class="jstree-closed"{% endif %}><a href="#">{{ t.textValue|truncatebefor:"35" }}</a>
                {% if t.countTagsInTagset %}
                <ul>    
                    {% for d in t.listTagsInTagset %}
                        <li id='tag-{{ d.id }}' rel="tag{% if not d.isOwned %}-locked{% endif %}" class="jstree-closed"><a href="#">{{ d.textValue|truncatebefor:"35" }}</a></li>
                    {% endfor %}
                </ul>
                {% endif %}
            </li>
            {% else %}
            <li id='tag-{{ t.id }}' rel="tag{% if not t.isOwned %}-locked{% endif %}" class="jstree-closed"><a href="#">{{ t.textValue|truncatebefor:"35" }}</a></li>
            {% endif %}
            {% endfor %}            
        </ul>
        {% endif %}
    </li>
</ul>
