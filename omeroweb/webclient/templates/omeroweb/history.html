{% extends "omeroweb/base.html" %}
{% load i18n %}
{% load markup %}
{% load custom_tags %}

{% block link %}
	<link rel="stylesheet" href="{% url webstatic "css/calendar.css" %}" type="text/css" />
{% endblock %}

{% block jscript %}
    <script type="text/javascript" src="{% url webstatic "javascript/jquery_1.2.6.js" %}"></script>

{% endblock %}

{% block script %}
    <script type="text/javascript" src="{% url webstatic "javascript/menu.js" %}"></script>
{% endblock %}

{% block center %}
<h1>{% trans "Calendar" %}</h1>

<div class="calendar">
	<div class="cal_nav">
		<div style="float: left; width: 20%; text-align:left; font-weight: bold;">
			<a href="{% url history controller.last_month.year controller.last_month.month %}">{{ controller.last_month_name }} {{ controller.last_month.year }} </a>
		</div>
		<div style="float: right;width: 20%; text-align: right; font-weight: bold;">
			<a href="{% url history controller.next_month.year controller.next_month.month %}">{{ controller.next_month_name }} {{ controller.next_month.year }}</a>
		</div>
		<div style="text-align: center;">{{ controller.month_name }}</div>
	</div>
	<table>
		<thead>
		{% for day_label in  controller.week_day_labels %}
			<th class="calendar_day">{{ day_label }}</th>
		{% endfor %}
		</thead>
		<tbody>
		{% for week in controller.cal_weeks %}
		<tr class="calendar_week">
			{% for day in week %}
				{% if not day.cell.day %}<td class="not_calendar_day"></td>
				{% else %}
					<td class="calendar_day">
						<div class="calendar_numerical_day"><a href="{% url history_details controller.year controller.month day.cell.day %}">{{ day.cell.day }}</a></div>
						<div class="calendar_items">
							{% if day.cell.counter.imgCounter or day.cell.counter.dsCounter or  day.cell.counter.prCounter or day.cell.counter.rdCounter %}<table>
								<tr><td>{% if day.cell.counter.imgCounter %}<a href="{% url history_details controller.year controller.month day.cell.day %}?history_type=image"><img src="{% url webstatic "images/image16.png" %}" /></a>({{ day.cell.counter.imgCounter }}){% endif %}</td></tr>
								<tr><td>{% if day.cell.counter.dsCounter %}<a href="{% url history_details controller.year controller.month day.cell.day %}?history_type=dataset"><img src="{% url webstatic "images/folder_image16.png" %}" /></a>({{ day.cell.counter.dsCounter }}){% endif %}</td></tr>
								<tr><td>{% if day.cell.counter.prCounter %}<a href="{% url history_details controller.year controller.month day.cell.day %}?history_type=project"><img src="{% url webstatic "images/folder16.png" %}" /></a>({{ day.cell.counter.prCounter }}){% endif %}</td></tr>
							</table>{% endif %}
						</div>
				</td>
				{% endif %}
			{% endfor %}
		</tr>
		{% endfor %}</tbody>
	</table>
</div>
<div>{% trans "Recognize items" %}: <img id="{{ c.getImage.id }}" src="{% url webstatic "images/folder32.png" %}" title="Project" alt="project"/> - {% trans "Project" %}; <img id="{{ c.getImage.id }}" src="{% url webstatic "images/folder_image32.png" %}" title="Dataset" alt="dataset"/> - {% trans "Dataset" %}; <img id="{{ c.getImage.id }}" src="{% url webstatic "images/image32.png" %}" title="Image" alt="image"/> - {% trans "Image" %};
</div>

{% endblock %}
