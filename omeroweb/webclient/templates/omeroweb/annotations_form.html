{% load i18n %}
{% load custom_tags %}

<div id="annotation_form" >
    <div id="annotation_tabs" class="ui-tabs">
        <ul>
            <li><a href="#comments_tab"><span>{% trans "Add comment" %}</span></a></li>
            <li><a href="#tags_tab"><span>{% trans "Tag" %}</span></a></li>
            <li><a href="#urls_tab"><span>URL</span></a></li>
            <li><a href="#files_tab"><span>{% trans "Attach file" %}</span></a></li>
        </ul>
        <div class="clear"></div>
        
        <div id="comments_tab">
            <p>{% trans "Create a new comment or choose one or more from the listed below." %}<br/>
            <!--<small>{% trans "If you would like to include an OMERO image or container in the below field, simply get the id of the item from the URL and type" %}: <b>[image:157], </b><b>[dataset:64], </b><b>[project:76].</b></small></p>-->
            
            {% if form_comment %}
            <div class="comment">
                <h1>{% trans "Add new comment" %}:</h1>
                <form action="#comments_tab" method="post"><input type="hidden" name="action" value="comment" />
                <table>
                    {% for field in form_comment %}
                        <tr>
                            <td colspan="2">{% if field.errors %}{{ field.errors }}{% endif %}</td>
                        </tr>
                        <tr>
                            <td>{{ field }}</td><td>{{ field.help_text|safe }}</td>
                        </tr>
                    {% endfor %}
                        <tr><td colspan="2"><input type="submit" value="{% trans 'Save' %}" /></td></tr>
                </table>
                </form>
                <script type="text/javascript">
                    var googie_spell = new GoogieSpell("static_core/googiespell/", "{% url spellchecker %}"+"?lang=");
                    googie_spell.decorateTextarea("id_content", null, "600px");
                </script>
            </div>
            {% endif %}
            
            <div class="excomment">
                <h1>{% trans "Use existing comment" %}:</h1>
                <form action="#comments_tab" method="post"><input type="hidden" name="action" value="usecomment" />
                <table>
                {% for field in form_comments %}
                    <tr>
                        <td colspan="2">{% if field.errors %}{{ field.errors }}{% endif %}</td>
                    </tr>
                    <tr>
                        <td>{{ field }}</td><td>{{ field.help_text|safe }}</td>
                    </tr>
                {% endfor %}
                <tr><td colspan="2"><input type="submit" value="{% trans 'Save' %}" /></td></tr>
                </table>
                </form>
            </div>
        </div>
        
        <div id="tags_tab">
            <p>{% trans "Select one or more from the listed tags or create a new one." %}</p>
            
            <div class="extags">
                <h1>{% trans "Use existing tag" %}:</h1>
                <form action="#tags_tab" method="post"><input type="hidden" name="action" value="usetag" />
                <table>
                {% for field in form_tags %}
                    <tr>
                        <td colspan="2">{% if field.errors %}{{ field.errors }}{% endif %}</td>
                    </tr>
                    <tr>
                        <td>{{ field }}</td><td>{{ field.help_text|safe }}</td>
                    </tr>
                {% endfor %}
                <tr><td colspan="2"><input type="submit" value="{% trans 'Save' %}" /></td></tr>
                </table>
                </form>
            </div>
            
            {% if form_tag %}
            <div class="tags">
                <h1>{% trans "Add new tag" %}:</h1>
                <form action="#tags_tab" method="post"><input type="hidden" name="action" value="tag" />
                <table>
                    {% for field in form_tag %}
                        <tr>
                            <td></td><td colspan="2">{% if field.errors %}{{ field.errors }}{% endif %}</td>
                        </tr>
                        <tr>
                            <td>{{ field.label_tag }}{% if field.field.required %}*{% endif %}</td><td>{{ field }}</td><td>{{ field.help_text|safe }}</td>
                        </tr>
                    {% endfor %}
                    <tr><td></td><td colspan="2"><input type="submit" value="{% trans 'Save' %}" /></td></tr>
                    </table>
                </form>
            </div>
            {% endif %}
            
        </div>
        
        <div id="urls_tab">
            
            {% if form_uri %}
            <div class="urls">
                <h1>{% trans "Add new url" %}:</h1>
                <form action="#urls_tab" method="post"><input type="hidden" name="action" value="url" />
                <table>
                    {% for field in form_uri %}
                        <tr>
                            <td colspan="2">{% if field.errors %}{{ field.errors }}{% endif %}</td>
                        </tr>
                        <tr>
                            <td>{{ field }}</td><td>{{ field.help_text|safe }}</td>
                        </tr>
                    {% endfor %}
                    <tr><td colspan="2"><input type="submit" value="{% trans 'Save' %}" /></td></tr>
                    </table>
                </form>
            </div>
            {% endif %}
            
            <div class="exurls">
                <h1>{% trans "Use existing URL" %}:</h1>
                <p>{% trans "To add existing url please select one or more from the listed urls." %}</p>
                <form action="#urls_tab" method="post"><input type="hidden" name="action" value="useurl" />
                <table>
                {% for field in form_urls %}
                    <tr>
                        <td colspan="2">{% if field.errors %}{{ field.errors }}{% endif %}</td>
                    </tr>
                    <tr>
                        <td>{{ field }}</td><td>{{ field.help_text|safe }}</td>
                    </tr>
                {% endfor %}
                <tr><td colspan="2"><input type="submit" value="{% trans 'Save' %}" /></td></tr>
                </table>
                </form>
            </div>
        </div>
        
        <div id="files_tab">
            <p>{% trans "Attache one or more from the listed files or upload a new one." %}</p>
            
            <div class="exfile">
                <h1>{% trans "Attache existing file" %}:</h1>
                <form action="#files_tab" method="post"><input type="hidden" name="action" value="usefile" />
                <table>
                {% for field in form_files %}
                    <tr>
                        <td colspan="2">{% if field.errors %}{{ field.errors }}{% endif %}</td>
                    </tr>
                    <tr>
                        <td>{{ field }}</td><td>{{ field.help_text|safe }}</td>
                    </tr>
                {% endfor %}
                <tr><td colspan="2"><input type="submit" value="{% trans 'Save' %}" /></td></tr>
                </table>
                </form>
            </div>
            
            {% if form_file %}
            <div class="file">
                <h1>{% trans "Upload a new file" %}:</h1>
                <form action="#files_tab" enctype="multipart/form-data" method="post"><input type="hidden" name="action" value="file" />
                <table>
                {% for field in form_file %}
                    <tr>
                        <td colspan="2">{% if field.errors %}{{ field.errors }}{% endif %}</td>
                    </tr>
                    <tr>
                        <td>{{ field }}</td><td>{{ field.help_text|safe }}</td>
                    </tr>
                {% endfor %}
                <tr><td colspan="2"><input type="submit" value="{% trans 'Save' %}" /></td></tr>
                </table>
                </form>
            </div>
            {% endif %}
        </div>
        

    </div>
    
</div>

